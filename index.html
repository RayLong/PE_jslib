<!DOCTYPE html>
<html>
<head>
	<script type="text/javascript" src="PosterEditor.js"></script>
        <script type="text/javascript" src="jquery-1.3.2.js"></script>
        <script type="text/javascript" src="raphael_b.js"></script>
        <script type="text/javascript" src="editor-or.js"></script>
	<script type="text/javascript" src="shape.js"></script>
	<script type="text/javascript" src="tracker.js"></script>
	<script type="text/javascript" src="path.js"></script>
	<script type="text/javascript" src="json2.js"></script>
	<script type="text/javascript">

                function deleteSelected() {
                   var sel=poster_editor.getSelected();
                   if (sel.length)
                     poster_editor.deleteObject(sel[0]);
                   else
                      alert("Nothing selected"); 
                }
                function showData() {
                   var sel=poster_editor.getSelected();
                   if (sel.length)
			   $('#output').text(JSON.stringify(poster_editor.getObjData(sel[0]))); 
                   else
                           $('#output').text("Nothing selected");
                }
		window.onload=function(){
			poster_editor.attachCanvas(document.getElementById('canvas'));
			poster_editor.setBackgroundImage('ccc.jpg');
			poster_editor.renderText=function (text,options) {
                             //please use ajax to get a svg file from server,
                             //which is rendered by server with the text.
                             //here is just a test case, will not use ajax to 
			     //request the service.
				return path_string;
                          }; 
		}
	</script>
</head>

<body>
	<div style="border:1px solid #555555;display:inline-block">
		<div class="toolbar">
			<button id="Delete" onclick="deleteSelected()">Delete Seleted</button>
			<button id="addImage" onclick="poster_editor.addImage('image1.jpg', 200,200,100,100)">add Image</button>
			<button id="addText" onclick="poster_editor.addText('hello world!', 50,50)">add Text</button>
			<button id="getData" onclick="showData()">get Selected Data</button>
		</div>
		<div id="canvas" style="width:720px;height:480px;display:block"></div>
                <div id="output"></div>
	</div>

</body>

</html>
